{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\n\nlet userSelectedDate = Date();\n\nconst bottonStart = document.querySelector('button[data-start]');\n\n\n\nlet second = document.querySelector('span[data-seconds]');\nlet minutes = document.querySelector('span[data-minutes]');\nlet hours = document.querySelector('span[data-hours]');\nlet days = document.querySelector('span[data-days]');\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: Date(),\n  minuteIncrement: 1,\n\n  onClose(selectedDates) {\n    clearInterval(taimerInterval);\n    if (\n      second.textContent > 1 ||\n      minutes.textContent > 1 ||\n      hours.textContent > 1 ||\n      days.textContent > 1\n    ) {\n      tostStopolldtaimer();\n    }\n    rezering();\n    console.log(selectedDates[0]);\n    new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (selectedDates[0] - options.defaultDate > 0) {\n          resolve(\n            (userSelectedDate = selectedDates[0]),\n            bottonStart.removeAttribute('disabled'),\n          );\n        } else {\n          reject(\n            tostPleasechooseadateinthefuture(),\n            bottonStart.setAttribute('disabled', '')\n          );\n        }\n      });\n    });\n\n    console.log('user selected:', userSelectedDate);\n  },\n};\n\nflatpickr('#datetime-picker', options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\nconsole.log(convertMs(userSelectedDate));\n\niziToast.settings({\n  timeout: 10000,\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  onOpening: function () {\n    console.log('callback abriu!');\n  },\n  onClosing: function () {\n    console.log('callback fechou!');\n  },\n});\n\nfunction getTaim(taimConteiner) {\n  second.textContent = taimConteiner.seconds.toString().padStart(2, '0');\n  minutes.textContent = taimConteiner.minutes.toString().padStart(2, '0');\n  hours.textContent = taimConteiner.hours.toString().padStart(2, '0');\n  days.textContent = taimConteiner.days.toString().padStart(2, '0');\n  if (\n    second.textContent < 1 &&\n    minutes.textContent < 1 &&\n    hours.textContent < 1 &&\n    days.textContent < 1\n  ) {\n    clearInterval(taimerInterval);\n    rezering();\n  }\n}\nfunction rezering() {\n  second.textContent = '00';\n  minutes.textContent = '00';\n  hours.textContent = '00';\n  days.textContent = '00';\n}\n\nlet taimerInterval;\n\nfunction taimerStart() {\n  tostTaimerStart();\n  bottonStart.setAttribute('disabled', '');\n  taimerInterval = setInterval(() => {\n    let taimConteinerMS = userSelectedDate.getTime() - Date();\n    let taimConteiner = convertMs(taimConteinerMS);\n    console.log(taimConteiner);\n    getTaim(taimConteiner);\n  }, 1000);\n}\n\nbottonStart.addEventListener('click', taimerStart);\n\n// tosts\n\nfunction tostPleasechooseadateinthefuture() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Please choose a date in the future',\n  });\n}\nfunction tostTaimerStart() {\n  iziToast.success({\n    title: 'OK',\n    message: 'Taimer start',\n  });\n}\n"],"names":["userSelectedDate","bottonStart","second","minutes","hours","days","options","selectedDates","taimerInterval","rezering","resolve","reject","tostPleasechooseadateinthefuture","flatpickr","convertMs","ms","seconds","iziToast","getTaim","taimConteiner","taimerStart","tostTaimerStart","taimConteinerMS"],"mappings":"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"}