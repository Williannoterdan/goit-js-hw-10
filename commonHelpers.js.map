{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\n\nlet userSelectedDate ;\n\nconst bottonStart = document.querySelector('button[data-start]')\nlet second = document.querySelector('span[data-seconds]');\nlet minutes = document.querySelector('span[data-minutes]');\nlet hours = document.querySelector('span[data-hours]');\nlet days = document.querySelector('span[data-days]');\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: Date.now(),\n  minuteIncrement: 1,\n\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n      if (selectedDates[0] - options.defaultDate > 0) {\n        userSelectedDate = selectedDates[0],\n          console.log(userSelectedDate);\n          bottonStart.removeAttribute('disabled')\n      }\n      else {\n        tostPleasechooseadateinthefuture(),\n          bottonStart.setAttribute('disabled', '')\n\n      }\n    console.log('user selected:', userSelectedDate);\n  },\n};\n\nflatpickr('#datetime-picker', options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(userSelectedDate));\n\n\n\nfunction getTaim(taimConteiner) {\n  second.textContent = taimConteiner.seconds.toString().padStart(2, '0');\n  minutes.textContent = taimConteiner.minutes.toString().padStart(2, '0');\n  hours.textContent = taimConteiner.hours.toString().padStart(2, '0');\n  days.textContent = taimConteiner.days.toString().padStart(2, '0');\n}\n\n\n\nfunction taimerStart() {\n  tostTaimerStart();\n  bottonStart.setAttribute('disabled', '');\n\n  console.log(userSelectedDate);\n  let taimRan = setInterval(() => {\n\n    let actualTaim = userSelectedDate - Date.now();\n    console.log(actualTaim);\n    if (actualTaim < 1000) {\n      clearInterval(taimRan);\n    }\n    let taimConteiner = convertMs(actualTaim);\n    console.log(taimConteiner);\n    getTaim(taimConteiner);\n  }, 1000);\n}\n\nbottonStart.addEventListener('click', taimerStart);\n\n// tosts\n\niziToast.settings({\n  timeout: 10000,\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  onOpening: function () {\n    console.log('callback abriu!');\n  },\n  onClosing: function () {\n    console.log('callback fechou!');\n  },\n});\n\nfunction tostPleasechooseadateinthefuture() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Please choose a date in the future',\n  });\n}\nfunction tostTaimerStart() {\n  iziToast.success({\n    title: 'OK',\n    message: 'Taimer start',\n  });\n}\n"],"names":["userSelectedDate","bottonStart","second","minutes","hours","days","options","selectedDates","tostPleasechooseadateinthefuture","flatpickr","convertMs","ms","seconds","getTaim","taimConteiner","taimerStart","tostTaimerStart","taimRan","actualTaim","iziToast"],"mappings":"+IAGA,IAAIA,EAEJ,MAAMC,EAAc,SAAS,cAAc,oBAAoB,EAC/D,IAAIC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAO,SAAS,cAAc,iBAAiB,EAEnD,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,KAAK,IAAK,EACvB,gBAAiB,EAEjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,EAAE,EACtBA,EAAc,GAAKD,EAAQ,YAAc,GAC3CN,EAAmBO,EAAc,GAC/B,QAAQ,IAAIP,CAAgB,EAC5BC,EAAY,gBAAgB,UAAU,IAGxCO,EAAkC,EAChCP,EAAY,aAAa,WAAY,EAAE,GAG7C,QAAQ,IAAI,iBAAkBD,CAAgB,CAC/C,CACH,EAEAS,EAAU,mBAAoBH,CAAO,EAErC,SAASI,EAAUC,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BP,EAAQ,KAAK,MAAOO,EAAK,MAAO,IAAI,EAEpCR,EAAU,KAAK,MAAQQ,EAAK,MAAO,KAAQ,GAAM,EAEjDC,EAAU,KAAK,MAASD,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAD,EAAO,QAAAD,EAAS,QAAAS,CAAO,CACxC,CAEA,QAAQ,IAAIF,EAAUV,CAAgB,CAAC,EAIvC,SAASa,EAAQC,EAAe,CAC9BZ,EAAO,YAAcY,EAAc,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EACrEX,EAAQ,YAAcW,EAAc,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EACtEV,EAAM,YAAcU,EAAc,MAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EAClET,EAAK,YAAcS,EAAc,KAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,CAClE,CAIA,SAASC,GAAc,CACrBC,IACAf,EAAY,aAAa,WAAY,EAAE,EAEvC,QAAQ,IAAID,CAAgB,EAC5B,IAAIiB,EAAU,YAAY,IAAM,CAE9B,IAAIC,EAAalB,EAAmB,KAAK,IAAG,EAC5C,QAAQ,IAAIkB,CAAU,EAClBA,EAAa,KACf,cAAcD,CAAO,EAEvB,IAAIH,EAAgBJ,EAAUQ,CAAU,EACxC,QAAQ,IAAIJ,CAAa,EACzBD,EAAQC,CAAa,CACtB,EAAE,GAAI,CACT,CAEAb,EAAY,iBAAiB,QAASc,CAAW,EAIjDI,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,GACd,KAAM,iBACN,aAAc,UACd,cAAe,WACf,UAAW,UAAY,CACrB,QAAQ,IAAI,iBAAiB,CAC9B,EACD,UAAW,UAAY,CACrB,QAAQ,IAAI,kBAAkB,CAC/B,CACH,CAAC,EAED,SAASX,GAAmC,CAC1CW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACb,CAAG,CACH,CACA,SAASH,GAAkB,CACzBG,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,cACb,CAAG,CACH"}